<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Driver Rota Linkleri</title>
</head>
<body>
<h1>Driver Rota Linkleri</h1>
<ul id="links"></ul>

<script>
    // mapsUrls endpoint’i zaten driver1 ve driver2 için tek birer url dönüyor
    fetch('/api/routes/mapsUrls?after=2025-04-01')
        .then(res => res.json())
        .then(data => {
            const ul = document.getElementById('links');

            // Sadece driver1 ve driver2 varsa ekle
            ['driver1', 'driver2'].forEach(driver => {
                const url = data[driver];
                if (!url) return;

                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = url;
                a.textContent = driver.toUpperCase() + ' Rotası';
                a.target = '_blank';
                li.appendChild(a);
                ul.appendChild(li);
            });
        })
        .catch(err => {
            console.error('Rota linkleri alınırken hata:', err);
            const ul = document.getElementById('links');
            const li = document.createElement('li');
            li.textContent = 'Rota linkleri alınamadı.';
            ul.appendChild(li);
        });
    <div id="links"></div>

        fetch('/api/routes/optimized/mapsUrls')
        .then(r => r.json())
        .then(obj => {
        const div = document.getElementById('links');
        Object.entries(obj).forEach(([drv,url]) => {
        div.innerHTML += `<p><a href="${url}" target="_blank">${drv} rotasını aç</a></p>`;
    });
    })
        .catch(err => console.error(err));
</script>


</body>
</html>
